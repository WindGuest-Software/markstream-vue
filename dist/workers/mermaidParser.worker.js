var t=Object.getOwnPropertyNames,r=(t,r,e)=>new Promise((n,a)=>{var o=t=>{try{l(e.next(t))}catch(r){a(r)}},i=t=>{try{l(e.throw(t))}catch(r){a(r)}},l=t=>t.done?n(t.value):Promise.resolve(t.value).then(o,i);l((e=e.apply(t,r)).next())});import e from"mermaid";var n,a,o=(n={"workers/mermaidParser.worker.js"(t){function n(t,n){return r(this,null,function*(){var r;const a=function(t,r){const e=`%%{init: {"theme": "${"dark"===r?"dark":"default"}"}}%%\n`;return t.trimStart().startsWith("%%{")?t:e+t}(t,n),o=e;if("function"==typeof o.parse)return yield null==(r=o.parse)?void 0:r.call(o,a),!0;throw new Error("mermaid.parse not available in worker")})}e.initialize({startOnLoad:!1,securityLevel:"loose"}),self.onmessage=t=>r(null,null,function*(){var e;const a=t.data,o=t=>self.postMessage(t),i=a.id;try{if("canParse"===a.action)return void o({id:i,ok:!0,result:yield n(a.payload.code,a.payload.theme)});if("findPrefix"===a.action)return void o({id:i,ok:!0,result:yield function(t,e){return r(this,null,function*(){const r=t.split("\n"),a=function(t){const r=/^(?:graph|flowchart|flowchart\s+tb|flowchart\s+lr|sequenceDiagram|gantt|classDiagram|stateDiagram(?:-v2)?|erDiagram|journey|pie|quadrantChart|timeline|xychart(?:-beta)?)\b/;for(let e=0;e<t.length;e++){const n=t[e].trim();if(n&&!n.startsWith("%%")&&r.test(n))return e}return-1}(r);if(-1===a)return null;const o=r.slice(0,a+1);yield n(o.join("\n"),e);let i=a+1,l=r.length,s=a+1,c=0;for(;i<=l&&c<12;){const t=Math.floor((i+l)/2),d=[...o,...r.slice(a+1,t)].join("\n");c++;try{yield n(d,e),s=t,i=t+1}catch(u){l=t-1}}return[...o,...r.slice(a+1,s)].join("\n")})}(a.payload.code,a.payload.theme)});o({id:i,ok:!1,error:"Unknown action"})}catch(l){o({id:i,ok:!1,error:null!=(e=null==l?void 0:l.message)?e:String(l)})}})}},function(){return a||(0,n[t(n)[0]])((a={exports:{}}).exports,a),a.exports});export default o();
